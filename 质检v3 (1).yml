app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: è´¨æ£€v3
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tongyi:0.0.34@611538dd92e8b164bd88aa4027cceeda28aeaf6ff19ea82a5925c20f9f358651
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: qiangxinglin/excel_tools:0.0.1@e6019557a12b0d8436ed924532d043c691504a872e18120a12d79e1b2225628e
kind: app
version: 0.3.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1753671059911-true-1753667739521-target
      selected: false
      source: '1753671059911'
      sourceHandle: 'true'
      target: '1753667739521'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: document-extractor
      id: 1753671059911-93d9a111-5244-452f-8d13-1dc5f9df7801-1753671613237-target
      selected: false
      source: '1753671059911'
      sourceHandle: 93d9a111-5244-452f-8d13-1dc5f9df7801
      target: '1753671613237'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: document-extractor
        targetType: llm
      id: 1753671613237-source-17536713257860-target
      selected: false
      source: '1753671613237'
      sourceHandle: source
      target: '17536713257860'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1753671059911-false-1753672821096-target
      selected: false
      source: '1753671059911'
      sourceHandle: 'false'
      target: '1753672821096'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1753671059911-5b354f9e-e365-408e-8cbc-236032889606-17536729420910-target
      selected: false
      source: '1753671059911'
      sourceHandle: 5b354f9e-e365-408e-8cbc-236032889606
      target: '17536729420910'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: end
      id: 17536729420910-source-1753751309447-target
      selected: false
      source: '17536729420910'
      sourceHandle: source
      target: '1753751309447'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: end
      id: 1753672821096-source-1753751337547-target
      selected: false
      source: '1753672821096'
      sourceHandle: source
      target: '1753751337547'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1753667739521-source-1753865449688-target
      selected: false
      source: '1753667739521'
      sourceHandle: source
      target: '1753865449688'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: end
      id: 1753866047962-source-1753668973280-target
      selected: false
      source: '1753866047962'
      sourceHandle: source
      target: '1753668973280'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: end
      id: 1753863016281-source-1753671782560-target
      selected: false
      source: '1753863016281'
      sourceHandle: source
      target: '1753671782560'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 17536713257860-source-17538683315150-target
      selected: false
      source: '17536713257860'
      sourceHandle: source
      target: '17538683315150'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 17538683315150-source-1754363868447-target
      selected: false
      source: '17538683315150'
      sourceHandle: source
      target: '1754363868447'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1754363868447-true-1753863016281-target
      selected: false
      source: '1754363868447'
      sourceHandle: 'true'
      target: '1753863016281'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: end
      id: 1754363868447-false-1754364010702-target
      selected: false
      source: '1754363868447'
      sourceHandle: 'false'
      target: '1754364010702'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1753865449688-source-1753866047962-target
      selected: false
      source: '1753865449688'
      sourceHandle: source
      target: '1753866047962'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: if-else
      id: 1753664561933-source-1754379920020-target
      selected: false
      source: '1753664561933'
      sourceHandle: source
      target: '1754379920020'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: if-else
      id: 1754379920020-true-1753671059911-target
      selected: false
      source: '1754379920020'
      sourceHandle: 'true'
      target: '1753671059911'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1754379920020-false-1754379634688-target
      selected: false
      source: '1754379920020'
      sourceHandle: 'false'
      target: '1754379634688'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: llm
      id: 1754379634688-source-17543802375720-target
      selected: false
      source: '1754379634688'
      sourceHandle: source
      target: '17543802375720'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 17543802375720-source-17543878613160-target
      source: '17543802375720'
      sourceHandle: source
      target: '17543878613160'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: end
      id: 17543878613160-source-1754380316477-target
      source: '17543878613160'
      sourceHandle: source
      target: '1754380316477'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: true
        title: å¼€å§‹
        type: start
        variables:
        - hide: false
          label: ä¸€ç»„å¯¹è¯
          max_length: null
          options: []
          required: false
          type: paragraph
          variable: dialog
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          - remote_url
          label: å¤šç»„å¯¹è¯
          max_length: 48
          options: []
          required: false
          type: file
          variable: muti_dialog
        - label: å¯¼å‡ºæ–‡ä»¶å
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: name_file
        - hide: true
          label: 'è¾“å‡ºç±»å‹   é»˜è®¤ï¼šEXCEL '
          max_length: 48
          options: []
          required: false
          type: text-input
          variable: output_type
        - allowed_file_extensions: []
          allowed_file_types:
          - audio
          allowed_file_upload_methods:
          - local_file
          - remote_url
          hide: true
          label: éŸ³é¢‘è¾“å…¥
          max_length: 48
          options: []
          required: false
          type: file
          variable: audio_input
        - hide: false
          label: å¯¹è¯ID
          max_length: 48
          options: []
          required: false
          type: text-input
          variable: dialog_id
        - label: å®¢æœID
          max_length: 48
          options: []
          required: false
          type: text-input
          variable: staff_id
      height: 245
      id: '1753664561933'
      position:
        x: -829.9503840911857
        y: 272.5910592442603
      positionAbsolute:
        x: -829.9503840911857
        y: 272.5910592442603
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        default_value:
        - key: text
          type: string
          value: ''
        desc: ''
        error_strategy: default-value
        model:
          completion_params: {}
          mode: chat
          name: qwen-max
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: d23447c3-9321-4316-8ff1-fe3ecb6a9ab7
          role: system
          text: "ä½ æ˜¯ä¸€ä¸ªå®¢æœå¯¹è¯è´¨æ£€AIï¼Œä»»åŠ¡æ˜¯æ ¹æ®ä»¥ä¸‹è¯¦ç»†è´¨æ£€æ ‡å‡†å¯¹å®¢æœä¸å®¢æˆ·çš„å¯¹è¯è®°å½•è¿›è¡Œé€é¡¹è¯„ä¼°ï¼Œåˆ¤æ–­å®¢æœæ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚è¯·ä¸¥æ ¼å¯¹ç…§ä»¥ä¸‹æ‰€æœ‰è´¨æ£€è§„åˆ™å®Œæˆè¯„ä¼°ï¼š\n\
            Â \n## å“åº”æ—¶é—´ - å›åº”å®¢æˆ·æ—¶é—´\n- æ ‡å‡†ï¼šå¸®å®¢æˆ·æŸ¥è¯¢ç›¸å…³ä¿¡æ¯åï¼Œå†æ¬¡å›åº”å®¢æˆ·æ—¶é—´ä¸å¾—è¶…è¿‡2åˆ†é’Ÿ\n- ä¸¥é‡ç¨‹åº¦ï¼šéè‡´å‘½é¡¹\nÂ \n\
            ## å“åº”æ—¶é—´ - é¦–æ¬¡å“åº”æ—¶é—´\n- æ ‡å‡†ï¼šé¦–æ¬¡å“åº”æ—¶é—´ä¸å¾—è¶…è¿‡40ç§’\n- ä¸¥é‡ç¨‹åº¦ï¼šéè‡´å‘½é¡¹\nÂ \n## æœåŠ¡æ€åº¦ - 0å®¹å¿\n\
            - åŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹è¡Œä¸ºï¼Œå‡å±æœåŠ¡æ€åº¦è‡´å‘½é¡¹ï¼š\nÂ  - è¾±éª‚ã€æ¨è¯¿ã€è´¨é—®ã€äº‰æ‰§å®¢æˆ·ï¼›\nÂ  - éç¤¼è²Œæˆ–æ¶æ„ä¸»åŠ¨å…³é—­ä¼šè¯ï¼›\nÂ  - éšç’æŠ•è¯‰ï¼›\n\
            Â  - å¼•å¯¼å®¢æˆ·å‡çº§æŠ•è¯‰ï¼›\nÂ  - å‘ŠçŸ¥â€œæ²¡æœ‰é¢†å¯¼â€ï¼›\nÂ  - æ‰¿è¯ºæ“ä½œæœªå±¥è¡Œï¼›\nÂ  - å‚¬ä¿ƒå®¢æˆ·æ–­çº¿ã€‚\nÂ \n## æœåŠ¡æŠ€å·§\n\
            - åœ¨çº¿æ¢³ç†ï¼šå¤šæ¬¡è¿›çº¿æœªä¸»åŠ¨æŸ¥å†å²è®°å½•/å·¥å•ï¼Œè‡´å‘½é¡¹ï¼›\n- å¼•å¯¼æ§åˆ¶ï¼šä¸ç†è§£å®¢æˆ·é—®é¢˜æ—¶æœªå¼•å¯¼ï¼Œè‡´å‘½é¡¹ï¼›\n- ç¡®è®¤ä¿¡æ¯ï¼šç”¨æˆ·ä¿¡æ¯æ— è¯¯å´é”å®šé”™è¯¯è´¦æˆ·/è®¢å•ï¼Œè‡´å‘½é¡¹ï¼›\n\
            - è¡¨è¾¾èƒ½åŠ›ï¼šè¡¨è¾¾æ··ä¹±æˆ–å¯¹ç”¨æˆ·è´Ÿé¢æƒ…ç»ªæœªå®‰æŠšï¼Œè‡´å‘½é¡¹ã€‚\nÂ \n## æ ‡å‡†ç”¨è¯­\n- å¼€å¤´è¯­ï¼šåº”ä½¿ç”¨â€œæ‚¨å¥½ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿâ€ï¼ˆéè‡´å‘½é¡¹ï¼‰ï¼›\n\
            - ç¤¼è²Œç”¨è¯­ï¼š\nÂ  - ä½¿ç”¨æ•¬è¯­å¦‚â€œæ‚¨â€â€œè¯·â€ï¼Œä¸èƒ½ä½¿ç”¨å£è¯­åŒ–å­—è¯ï¼ˆéè‡´å‘½é¡¹ï¼‰ï¼›\nÂ  - ç”¨æˆ·è‡´è°¢åº”å›åº”ï¼Œå¦‚â€œä¸å®¢æ°”â€ç­‰ï¼›\nÂ  - å¦‚ç­”å¤é”™è¯¯éœ€è‡´æ­‰ï¼›\n\
            Â  - ä¸å¾—å¦å®šå®¢æˆ·è¡¨è¾¾ï¼ˆéè‡´å‘½é¡¹ï¼‰ã€‚\nÂ \n## æµç¨‹æ‰§è¡Œä¸è§£å†³æ–¹æ¡ˆ\n- åœ¨çº¿ç»“æŸå‡†ç¡®ï¼š\nÂ  - æœªåšåˆ°â€œåˆ°æˆ‘ä¸ºæ­¢â€ã€ç”¨æˆ·æœªç»“æŸä¸»åŠ¨å…³é—­ã€å·²å¤„ç†å®Œæœªå…³é—­ï¼Œå‡ä¸ºè‡´å‘½é¡¹ï¼›\n\
            - æµç¨‹æ‰§è¡Œå‡†ç¡®ï¼š\nÂ  - æœªæŒ‰æµç¨‹ã€é”™è¯¯æ–¹æ¡ˆï¼Œå‡ä¸ºè‡´å‘½é¡¹ã€‚\nÂ \n## é”™åˆ«å­—\n- åŒä¸€ä¼šè¯ä¸­å‡ºç°3æ¬¡ä»¥ä¸Šé”™åˆ«å­—ï¼Œä¸ºéè‡´å‘½é¡¹ã€‚\n\
            Â \n## åŠ åˆ†é¡¹\n- ç”¨æˆ·å¯¹è§£å†³æ–¹æ¡ˆä¸è®¤å¯æ—¶ä¸»åŠ¨è¿›ä¸€æ­¥ååŠ©ï¼›\n- æä¾›è§£å†³æ–¹æ¡ˆæ—¶è§£é‡ŠåŸå› ï¼›\n- ä¸»åŠ¨ç»™å‡ºè¶…å‡ºæµç¨‹é¢„æœŸçš„å¸®åŠ©æˆ–æç¤ºã€‚\n\
            Â \nè¯·æ ¹æ®ä»¥ä¸Šæ¯æ¡æ ‡å‡†è¯„ä¼°å¯¹è¯è®°å½•ï¼Œé€é¡¹è¾“å‡ºè¯„åˆ†ç»†èŠ‚ï¼Œåˆ—å‡ºåŠ åˆ†é¡¹ä¸è‡´å‘½é¡¹ï¼Œå¹¶æœ€ç»ˆåˆ¤æ–­æ˜¯å¦é€šè¿‡æœ¬æ¬¡è´¨æ£€ã€‚å¹¶åªè¿”å›å¦‚ä¸‹ç»“æ„çš„åˆæ³•JSONç»“æœ\n\
            Â \n{\n\"dialog_id\": {{#1753664561933.dialog_id#}},\n\"staff_id\":{{#1753664561933.staff_id#}},Â \
            \ \n\"passed\": \"PASS / FAIL\",\nÂ  \"fatal_issues\": [\"Issue 1\", \"\
            Issue 2\"],\nÂ  \"non_fatal_issues\": [\"Issue 1\", \"Issue 2\", \"Issue\
            \ 3\"],\nÂ  \"bonus_points\": [\"Bonus 1\", \"Bonus 2\"],\nÂ  \"score_details\"\
            : {\nÂ Â Â  \"response_time_first\": \"Pass / Fail (explanation)\",\nÂ Â Â \
            \ \"response_time_followup\": \"Pass / Fail (explanation)\",\nÂ Â Â  \"attitude\"\
            : \"Pass / Fatal issue: ...\",\nÂ Â Â  \"service_techniques\": \"Pass / Fatal\
            \ issue: ...\",\nÂ Â Â  \"language\": \"Pass / Fail (explanation)\",\nÂ Â Â \
            \ \"workflow\": \"Pass / Fatal issue: ...\",\nÂ Â Â  \"typos\": \"Pass /\
            \ Fail (X typos found)\"\nÂ  },\nÂ  \"utterance_analysis\": [\nÂ Â Â  {\nÂ Â Â Â Â \
            \ \"role\": \"Agent\",\nÂ Â Â Â Â  \"time\": \"timestamp\",\nÂ Â Â Â Â  \"text\"\
            : \"exact sentence spoken by agent\",\nÂ Â Â Â Â  \"analysis\": \"Does it reflect\
            \ proper tone, language, clarity, politeness, or any issues?\"\nÂ Â Â  },\n\
            Â Â Â  {\nÂ Â Â Â Â  \"role\": \"Customer\",\nÂ Â Â Â Â  \"time\": \"timestamp\",\n\
            Â Â Â Â Â  \"text\": \"exact sentence spoken by customer\",\nÂ Â Â Â Â  \"analysis\"\
            : \"Optional; summarize customer emotion or feedback if relevant\"\nÂ Â Â \
            \ }\nÂ  ]\n}\nÂ \nå¤‡æ³¨è¡¥å……è¯´æ˜ï¼š\nÂ \nè‹¥å®¢æœå­˜åœ¨æœåŠ¡æ€åº¦é—®é¢˜ï¼Œå¦‚è¾±éª‚å®¢æˆ·ã€æ¨è¯¿ã€è´¨é—®ã€å˜²è®½ç­‰ï¼Œç›´æ¥åˆ¤ä¸ºä¸é€šè¿‡ï¼›\nÂ \n\
            è‹¥å•ä¸ªåœ¨çº¿å·¥å•ä¸­å‡ºç°1é¡¹è‡´å‘½é¡¹ï¼Œæ•´é€šå¯¹è¯è®°ä¸ºä¸é€šè¿‡ï¼›\nÂ \nè‹¥å‡ºç°3é¡¹åŠä»¥ä¸Šéè‡´å‘½é¡¹ä¸é€šè¿‡ï¼Œæ•´é€šå¯¹è¯äº¦è®°ä¸ºä¸é€šè¿‡ã€‚\nÂ \nÂ \nÂ "
        - id: 049b5685-796b-40f6-a4a4-a987b5ec56e3
          role: user
          text: 'è¯·ä½ å¯¹ä»¥ä¸‹å®¢æœå¯¹è¯å†…å®¹è¿›è¡Œè¯„åˆ†åˆ†æï¼Œå¹¶æ ¹æ®ç»™å®šè¯„åˆ†æ ‡å‡†ï¼Œè¿”å›ç»“æ„åŒ– JSON ç»“æœï¼š



            {{#1753664561933.dialog#}}'
        selected: false
        structured_output_enabled: false
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 125
      id: '1753667739521'
      position:
        x: 633.6835648900765
        y: 38.257093495448146
      positionAbsolute:
        x: 633.6835648900765
        y: 38.257093495448146
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1753866047962'
          - files
          variable: files
        selected: false
        title: ç»“æŸ 2
        type: end
      height: 89
      id: '1753668973280'
      position:
        x: 1947.3894912431547
        y: 38.257093495448146
      positionAbsolute:
        x: 1947.3894912431547
        y: 38.257093495448146
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: not empty
            id: 85891c0f-96a7-42ad-9f92-8b05c6797f8b
            value: ''
            varType: string
            variable_selector:
            - '1753664561933'
            - dialog
          id: 'true'
          logical_operator: and
        - case_id: 93d9a111-5244-452f-8d13-1dc5f9df7801
          conditions:
          - comparison_operator: exists
            id: b6599220-91f5-4af7-8efc-39783a795081
            value: ''
            varType: file
            variable_selector:
            - '1753664561933'
            - muti_dialog
          id: 93d9a111-5244-452f-8d13-1dc5f9df7801
          logical_operator: and
        - case_id: 5b354f9e-e365-408e-8cbc-236032889606
          conditions:
          - comparison_operator: not empty
            id: 6e496419-b665-47d6-9a6e-430e9c804bf0
            value: ''
            varType: string
            variable_selector:
            - '1753664561933'
            - dialog
          - comparison_operator: exists
            id: 117d4977-1391-4820-b41a-81319cb8d78b
            value: ''
            varType: file
            variable_selector:
            - '1753664561933'
            - muti_dialog
          id: 5b354f9e-e365-408e-8cbc-236032889606
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 247
      id: '1753671059911'
      position:
        x: 171.48569562515712
        y: 272.5910592442603
      positionAbsolute:
        x: 171.48569562515712
        y: 272.5910592442603
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        default_value:
        - key: text
          type: string
          value: ''
        desc: ''
        error_strategy: default-value
        model:
          completion_params: {}
          mode: chat
          name: qwen-max
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: d23447c3-9321-4316-8ff1-fe3ecb6a9ab7
          role: system
          text: "ä½ æ˜¯ä¸€ä¸ªå®¢æœå¯¹è¯è´¨æ£€AIï¼Œä»»åŠ¡æ˜¯æ ¹æ®ä»¥ä¸‹è¯¦ç»†è´¨æ£€æ ‡å‡†å¯¹å®¢æœä¸å®¢æˆ·çš„å¯¹è¯è®°å½•è¿›è¡Œé€é¡¹è¯„ä¼°ï¼Œåˆ¤æ–­å®¢æœæ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚è¯·ä¸¥æ ¼å¯¹ç…§ä»¥ä¸‹æ‰€æœ‰è´¨æ£€è§„åˆ™å®Œæˆè¯„ä¼°ï¼š\n\
            Â \n## å“åº”æ—¶é—´ - å›åº”å®¢æˆ·æ—¶é—´\n- æ ‡å‡†ï¼šå¸®å®¢æˆ·æŸ¥è¯¢ç›¸å…³ä¿¡æ¯åï¼Œå†æ¬¡å›åº”å®¢æˆ·æ—¶é—´ä¸å¾—è¶…è¿‡2åˆ†é’Ÿ\n- ä¸¥é‡ç¨‹åº¦ï¼šéè‡´å‘½é¡¹\nÂ \n\
            ## å“åº”æ—¶é—´ - é¦–æ¬¡å“åº”æ—¶é—´\n- æ ‡å‡†ï¼šé¦–æ¬¡å“åº”æ—¶é—´ä¸å¾—è¶…è¿‡40ç§’\n- ä¸¥é‡ç¨‹åº¦ï¼šéè‡´å‘½é¡¹\nÂ \n## æœåŠ¡æ€åº¦ - 0å®¹å¿\n\
            - åŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹è¡Œä¸ºï¼Œå‡å±æœåŠ¡æ€åº¦è‡´å‘½é¡¹ï¼š\nÂ  - è¾±éª‚ã€æ¨è¯¿ã€è´¨é—®ã€äº‰æ‰§å®¢æˆ·ï¼›\nÂ  - éç¤¼è²Œæˆ–æ¶æ„ä¸»åŠ¨å…³é—­ä¼šè¯ï¼›\nÂ  - éšç’æŠ•è¯‰ï¼›\n\
            Â  - å¼•å¯¼å®¢æˆ·å‡çº§æŠ•è¯‰ï¼›\nÂ  - å‘ŠçŸ¥â€œæ²¡æœ‰é¢†å¯¼â€ï¼›\nÂ  - æ‰¿è¯ºæ“ä½œæœªå±¥è¡Œï¼›\nÂ  - å‚¬ä¿ƒå®¢æˆ·æ–­çº¿ã€‚\nÂ \n## æœåŠ¡æŠ€å·§\n\
            - åœ¨çº¿æ¢³ç†ï¼šå¤šæ¬¡è¿›çº¿æœªä¸»åŠ¨æŸ¥å†å²è®°å½•/å·¥å•ï¼Œè‡´å‘½é¡¹ï¼›\n- å¼•å¯¼æ§åˆ¶ï¼šä¸ç†è§£å®¢æˆ·é—®é¢˜æ—¶æœªå¼•å¯¼ï¼Œè‡´å‘½é¡¹ï¼›\n- ç¡®è®¤ä¿¡æ¯ï¼šç”¨æˆ·ä¿¡æ¯æ— è¯¯å´é”å®šé”™è¯¯è´¦æˆ·/è®¢å•ï¼Œè‡´å‘½é¡¹ï¼›\n\
            - è¡¨è¾¾èƒ½åŠ›ï¼šè¡¨è¾¾æ··ä¹±æˆ–å¯¹ç”¨æˆ·è´Ÿé¢æƒ…ç»ªæœªå®‰æŠšï¼Œè‡´å‘½é¡¹ã€‚\nÂ \n## æ ‡å‡†ç”¨è¯­\n- å¼€å¤´è¯­ï¼šåº”ä½¿ç”¨â€œæ‚¨å¥½ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿâ€ï¼ˆéè‡´å‘½é¡¹ï¼‰ï¼›\n\
            - ç¤¼è²Œç”¨è¯­ï¼š\nÂ  - ä½¿ç”¨æ•¬è¯­å¦‚â€œæ‚¨â€â€œè¯·â€ï¼Œä¸èƒ½ä½¿ç”¨å£è¯­åŒ–å­—è¯ï¼ˆéè‡´å‘½é¡¹ï¼‰ï¼›\nÂ  - ç”¨æˆ·è‡´è°¢åº”å›åº”ï¼Œå¦‚â€œä¸å®¢æ°”â€ç­‰ï¼›\nÂ  - å¦‚ç­”å¤é”™è¯¯éœ€è‡´æ­‰ï¼›\n\
            Â  - ä¸å¾—å¦å®šå®¢æˆ·è¡¨è¾¾ï¼ˆéè‡´å‘½é¡¹ï¼‰ã€‚\nÂ \n## æµç¨‹æ‰§è¡Œä¸è§£å†³æ–¹æ¡ˆ\n- åœ¨çº¿ç»“æŸå‡†ç¡®ï¼š\nÂ  - æœªåšåˆ°â€œåˆ°æˆ‘ä¸ºæ­¢â€ã€ç”¨æˆ·æœªç»“æŸä¸»åŠ¨å…³é—­ã€å·²å¤„ç†å®Œæœªå…³é—­ï¼Œå‡ä¸ºè‡´å‘½é¡¹ï¼›\n\
            - æµç¨‹æ‰§è¡Œå‡†ç¡®ï¼š\nÂ  - æœªæŒ‰æµç¨‹ã€é”™è¯¯æ–¹æ¡ˆï¼Œå‡ä¸ºè‡´å‘½é¡¹ã€‚\nÂ \n## é”™åˆ«å­—\n- åŒä¸€ä¼šè¯ä¸­å‡ºç°3æ¬¡ä»¥ä¸Šé”™åˆ«å­—ï¼Œä¸ºéè‡´å‘½é¡¹ã€‚\n\
            Â \n## åŠ åˆ†é¡¹\n- ç”¨æˆ·å¯¹è§£å†³æ–¹æ¡ˆä¸è®¤å¯æ—¶ä¸»åŠ¨è¿›ä¸€æ­¥ååŠ©ï¼›\n- æä¾›è§£å†³æ–¹æ¡ˆæ—¶è§£é‡ŠåŸå› ï¼›\n- ä¸»åŠ¨ç»™å‡ºè¶…å‡ºæµç¨‹é¢„æœŸçš„å¸®åŠ©æˆ–æç¤ºã€‚\n\
            Â \nè¯·æ ¹æ®ä»¥ä¸Šæ¯æ¡æ ‡å‡†è¯„ä¼°å¯¹è¯è®°å½•ï¼Œé€é¡¹è¾“å‡ºè¯„åˆ†ç»†èŠ‚ï¼Œåˆ—å‡ºåŠ åˆ†é¡¹ä¸è‡´å‘½é¡¹ï¼Œå¹¶æœ€ç»ˆåˆ¤æ–­æ˜¯å¦é€šè¿‡æœ¬æ¬¡è´¨æ£€ã€‚å¹¶åªè¿”å›å¦‚ä¸‹ç»“æ„çš„åˆæ³•JSONç»“æœ\n\
            Â \n{\n\"dialog_id\": XX,\n\"staff_id\":XX,Â  \n\"passed\": \"PASS / FAIL\"\
            ,\nÂ  \"fatal_issues\": [\"Issue 1\", \"Issue 2\"],\nÂ  \"non_fatal_issues\"\
            : [\"Issue 1\", \"Issue 2\", \"Issue 3\"],\nÂ  \"bonus_points\": [\"Bonus\
            \ 1\", \"Bonus 2\"],\nÂ  \"score_details\": {\nÂ Â Â  \"response_time_first\"\
            : \"Pass / Fail (explanation)\",\nÂ Â Â  \"response_time_followup\": \"Pass\
            \ / Fail (explanation)\",\nÂ Â Â  \"attitude\": \"Pass / Fatal issue: ...\"\
            ,\nÂ Â Â  \"service_techniques\": \"Pass / Fatal issue: ...\",\nÂ Â Â  \"language\"\
            : \"Pass / Fail (explanation)\",\nÂ Â Â  \"workflow\": \"Pass / Fatal issue:\
            \ ...\",\nÂ Â Â  \"typos\": \"Pass / Fail (X typos found)\"\nÂ  },\nÂ  \"utterance_analysis\"\
            : [\nÂ Â Â  {\nÂ Â Â Â Â  \"role\": \"Agent\",\nÂ Â Â Â Â  \"time\": \"timestamp\"\
            ,\nÂ Â Â Â Â  \"text\": \"exact sentence spoken by agent\",\nÂ Â Â Â Â  \"analysis\"\
            : \"Does it reflect proper tone, language, clarity, politeness, or any\
            \ issues?\"\nÂ Â Â  },\nÂ Â Â  {\nÂ Â Â Â Â  \"role\": \"Customer\",\nÂ Â Â Â Â  \"time\"\
            : \"timestamp\",\nÂ Â Â Â Â  \"text\": \"exact sentence spoken by customer\"\
            ,\nÂ Â Â Â Â  \"analysis\": \"Optional; summarize customer emotion or feedback\
            \ if relevant\"\nÂ Â Â  }\nÂ  ]\n}\nÂ \nå¤‡æ³¨è¡¥å……è¯´æ˜ï¼š\nÂ \nè‹¥å®¢æœå­˜åœ¨æœåŠ¡æ€åº¦é—®é¢˜ï¼Œå¦‚è¾±éª‚å®¢æˆ·ã€æ¨è¯¿ã€è´¨é—®ã€å˜²è®½ç­‰ï¼Œç›´æ¥åˆ¤ä¸ºä¸é€šè¿‡ï¼›\n\
            Â \nè‹¥å•ä¸ªåœ¨çº¿å·¥å•ä¸­å‡ºç°1é¡¹è‡´å‘½é¡¹ï¼Œæ•´é€šå¯¹è¯è®°ä¸ºä¸é€šè¿‡ï¼›\nÂ \nè‹¥å‡ºç°3é¡¹åŠä»¥ä¸Šéè‡´å‘½é¡¹ä¸é€šè¿‡ï¼Œæ•´é€šå¯¹è¯äº¦è®°ä¸ºä¸é€šè¿‡ã€‚\nÂ "
        - id: 049b5685-796b-40f6-a4a4-a987b5ec56e3
          role: user
          text: 'è¯·ä½ å¯¹ä»¥ä¸‹å®¢æœå¯¹è¯å†…å®¹è¿›è¡Œè¯„åˆ†åˆ†æï¼Œå¹¶æ ¹æ®ç»™å®šè¯„åˆ†æ ‡å‡†ï¼Œåªè¿”å›ä¸€ä¸ªç»“æ„åŒ– JSON æ•°ç»„ç»“æœï¼š


            {{#1753671613237.text#}}'
        retry_config:
          max_retries: 1
          retry_enabled: true
          retry_interval: 1000
        selected: false
        structured_output_enabled: false
        title: LLM (1)
        type: llm
        variables: []
        vision:
          enabled: false
      height: 155
      id: '17536713257860'
      position:
        x: 1002.1193669563587
        y: 266.7171018028128
      positionAbsolute:
        x: 1002.1193669563587
        y: 266.7171018028128
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: false
        selected: false
        title: æ–‡æ¡£æå–å™¨
        type: document-extractor
        variable_selector:
        - '1753664561933'
        - muti_dialog
      height: 91
      id: '1753671613237'
      position:
        x: 633.6835648900765
        y: 266.7171018028128
      positionAbsolute:
        x: 633.6835648900765
        y: 266.7171018028128
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1753863016281'
          - files
          variable: files
        selected: false
        title: ç»“æŸ 2
        type: end
      height: 89
      id: '1753671782560'
      position:
        x: 3003.0502643647637
        y: 122.89073952856779
      positionAbsolute:
        x: 3003.0502643647637
        y: 122.89073952856779
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main() -> dict:\n    return {\n        \"result\": \"error: æœªæä¾›å¯¹è¯\"\
          ,\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables: []
      height: 53
      id: '1753672821096'
      position:
        x: 633.6835648900765
        y: 644.378099574881
      positionAbsolute:
        x: 633.6835648900765
        y: 644.378099574881
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main() -> dict:\n    return {\n        \"result\": \"error: æä¾›äº†å¤šé‡å¯¹è¯\"\
          ,\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ (1)
        type: code
        variables: []
      height: 53
      id: '17536729420910'
      position:
        x: 633.6835648900765
        y: 472.94650302269713
      positionAbsolute:
        x: 633.6835648900765
        y: 472.94650302269713
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '17536729420910'
          - result
          variable: result
        selected: false
        title: ç»“æŸ 3
        type: end
      height: 89
      id: '1753751309447'
      position:
        x: 1002.1193669563587
        y: 472.94650302269713
      positionAbsolute:
        x: 1002.1193669563587
        y: 472.94650302269713
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1753672821096'
          - result
          variable: result
        selected: false
        title: ç»“æŸ 4
        type: end
      height: 89
      id: '1753751337547'
      position:
        x: 1002.1193669563587
        y: 644.378099574881
      positionAbsolute:
        x: 1002.1193669563587
        y: 644.378099574881
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The JSON string to convert.
            ja_JP: The JSON string to convert.
            pt_BR: The JSON string to convert.
            zh_Hans: è¦è½¬æ¢çš„JSONå­—ç¬¦ä¸²ã€‚
          label:
            en_US: JSON String
            ja_JP: JSON String
            pt_BR: JSON String
            zh_Hans: JSONå­—ç¬¦ä¸²
          llm_description: The JSON string to convert.
          max: null
          min: null
          name: json_str
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The filename for the generated Excel file
            ja_JP: The filename for the generated Excel file
            pt_BR: The filename for the generated Excel file
            zh_Hans: ç”Ÿæˆçš„Excelæ–‡ä»¶çš„æ–‡ä»¶å
          label:
            en_US: Excel filename
            ja_JP: Excel filename
            pt_BR: Excel filename
            zh_Hans: Excelæ–‡ä»¶å
          llm_description: The filename that will be used for the generated Excel
            file
          max: null
          min: null
          name: filename
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          filename: ''
          json_str: ''
        provider_id: qiangxinglin/excel_tools/excel_tools
        provider_name: qiangxinglin/excel_tools/excel_tools
        provider_type: builtin
        selected: false
        title: Jsonè½¬Excel
        tool_configurations: {}
        tool_description: å°†Jsonè½¬æ¢ä¸ºExcelã€‚
        tool_label: Jsonè½¬Excel
        tool_name: json2excel
        tool_parameters:
          filename:
            type: mixed
            value: '{{#1753664561933.name_file#}}'
          json_str:
            type: mixed
            value: '{{#17538683315150.result#}}'
        type: tool
      height: 53
      id: '1753863016281'
      position:
        x: 2474.2312216611963
        y: 122.89073952856779
      positionAbsolute:
        x: 2474.2312216611963
        y: 122.89073952856779
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nimport re\n\ndef main(arg1: str) -> dict:\n    # å»é™¤ ```json\
          \ ``` åŒ…è£¹\n    cleaned_str = re.sub(r\"^```json\\s*|\\s*```$\", \"\", arg1.strip())\n\
          \n    if not cleaned_str:\n        return {\"error\": \"è¾“å…¥ä¸ºç©ºæˆ–æ ¼å¼éæ³•\"}\n\n\
          \    try:\n        obj = json.loads(cleaned_str)\n    except json.JSONDecodeError\
          \ as e:\n        return {\"error\": f\"JSONè§£æå¤±è´¥: {e}\"}\n\n    # è½¬ä¸ºå­—ç¬¦ä¸²çš„å­—æ®µ\n\
          \    for key in [\"utterance_analysis\", \"score_details\", \"fatal_issues\"\
          , \"non_fatal_issues\", \"bonus_points\"]:\n        obj[key] = str(obj.get(key,\
          \ \"\"))\n\n\n    return {\n        \"result\": json.dumps([obj], ensure_ascii=False)\n\
          \    }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ 3
        type: code
        variables:
        - value_selector:
          - '1753667739521'
          - text
          variable: arg1
      height: 53
      id: '1753865449688'
      position:
        x: 1002.1193669563587
        y: 38.257093495448146
      positionAbsolute:
        x: 1002.1193669563587
        y: 38.257093495448146
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The JSON string to convert.
            ja_JP: The JSON string to convert.
            pt_BR: The JSON string to convert.
            zh_Hans: è¦è½¬æ¢çš„JSONå­—ç¬¦ä¸²ã€‚
          label:
            en_US: JSON String
            ja_JP: JSON String
            pt_BR: JSON String
            zh_Hans: JSONå­—ç¬¦ä¸²
          llm_description: The JSON string to convert.
          max: null
          min: null
          name: json_str
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The filename for the generated Excel file
            ja_JP: The filename for the generated Excel file
            pt_BR: The filename for the generated Excel file
            zh_Hans: ç”Ÿæˆçš„Excelæ–‡ä»¶çš„æ–‡ä»¶å
          label:
            en_US: Excel filename
            ja_JP: Excel filename
            pt_BR: Excel filename
            zh_Hans: Excelæ–‡ä»¶å
          llm_description: The filename that will be used for the generated Excel
            file
          max: null
          min: null
          name: filename
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          filename: ''
          json_str: ''
        provider_id: qiangxinglin/excel_tools/excel_tools
        provider_name: qiangxinglin/excel_tools/excel_tools
        provider_type: builtin
        selected: false
        title: Jsonè½¬Excel
        tool_configurations: {}
        tool_description: å°†Jsonè½¬æ¢ä¸ºExcelã€‚
        tool_label: Jsonè½¬Excel
        tool_name: json2excel
        tool_parameters:
          filename:
            type: mixed
            value: '{{#1753664561933.name_file#}}'
          json_str:
            type: mixed
            value: '{{#1753865449688.result#}}'
        type: tool
      height: 53
      id: '1753866047962'
      position:
        x: 1447.1037616005917
        y: 38.257093495448146
      positionAbsolute:
        x: 1447.1037616005917
        y: 38.257093495448146
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nimport re\n\ndef main(arg1: str) -> dict:\n    # å»é™¤ markdown\
          \ ```json å’Œ ``` åŒ…è£¹\n    cleaned_str = re.sub(r\"^```json\\s*|\\s*```$\"\
          , \"\", arg1.strip())\n\n    if not cleaned_str:\n        return {\"result\"\
          : \"è¾“å…¥ä¸ºç©ºæˆ–æ ¼å¼éæ³•\"}\n\n    try:\n        obj_list = json.loads(cleaned_str)\n\
          \    except json.JSONDecodeError as e:\n        return {\"result\": f\"\
          JSONè§£æå¤±è´¥: {e}\"}\n\n    if not isinstance(obj_list, list):\n        return\
          \ {\"result\": \"è¾“å…¥çš„ JSON åº”è¯¥æ˜¯ä¸€ä¸ªåˆ—è¡¨ [obj1, obj2, ...]\"}\n\n    # å¯¹æ¯ä¸ª dict\
          \ å¤„ç†æŒ‡å®šå­—æ®µ\n    for obj in obj_list:\n        for key in [\"utterance_analysis\"\
          , \"score_details\", \"fatal_issues\", \"non_fatal_issues\", \"bonus_points\"\
          ]:\n            obj[key] = str(obj.get(key, \"\"))\n\n    # è¿”å›å­—ç¬¦ä¸²åŒ–åçš„ JSON\
          \ åˆ—è¡¨\n    return {\n        \"result\": json.dumps(obj_list, ensure_ascii=False)\n\
          \    }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ 3 (1)
        type: code
        variables:
        - value_selector:
          - '17536713257860'
          - text
          variable: arg1
      height: 53
      id: '17538683315150'
      position:
        x: 1447.1037616005917
        y: 266.7171018028128
      positionAbsolute:
        x: 1447.1037616005917
        y: 266.7171018028128
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is not
            id: f8061e87-fcc2-44b3-880a-1a6b442a1ae4
            value: JSON
            varType: string
            variable_selector:
            - '1753664561933'
            - output_type
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 3
        type: if-else
      height: 125
      id: '1754363868447'
      position:
        x: 1947.3894912431547
        y: 266.7171018028128
      positionAbsolute:
        x: 1947.3894912431547
        y: 266.7171018028128
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '17538683315150'
          - result
          variable: result
        selected: false
        title: ç»“æŸ 6
        type: end
      height: 89
      id: '1754364010702'
      position:
        x: 2474.2312216611963
        y: 349.4808734470956
      positionAbsolute:
        x: 2474.2312216611963
        y: 349.4808734470956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The audio file to be converted.
            ja_JP: The audio file to be converted.
            pt_BR: The audio file to be converted.
            zh_Hans: è¦è½¬æ¢çš„éŸ³é¢‘æ–‡ä»¶ã€‚
          label:
            en_US: Audio File
            ja_JP: Audio File
            pt_BR: Audio File
            zh_Hans: éŸ³é¢‘æ–‡ä»¶
          llm_description: The audio file to be converted.
          max: null
          min: null
          name: audio_file
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: file
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: All available ASR models. You can config model in the Model Provider
              of Settings.
            ja_JP: All available ASR models. You can config model in the Model Provider
              of Settings.
            pt_BR: All available ASR models. You can config model in the Model Provider
              of Settings.
            zh_Hans: æ‰€æœ‰å¯ç”¨çš„ ASR æ¨¡å‹ã€‚ä½ å¯ä»¥åœ¨è®¾ç½®ä¸­çš„æ¨¡å‹ä¾›åº”å•†é‡Œé…ç½®ã€‚
          label:
            en_US: Model
            ja_JP: Model
            pt_BR: Model
            zh_Hans: Model
          llm_description: null
          max: null
          min: null
          name: model
          options:
          - label:
              en_US: paraformer-realtime-v1(langgenius/tongyi/tongyi)
              ja_JP: paraformer-realtime-v1(langgenius/tongyi/tongyi)
              pt_BR: paraformer-realtime-v1(langgenius/tongyi/tongyi)
              zh_Hans: paraformer-realtime-v1(langgenius/tongyi/tongyi)
            value: langgenius/tongyi/tongyi#paraformer-realtime-v1
          - label:
              en_US: paraformer-realtime-v2(langgenius/tongyi/tongyi)
              ja_JP: paraformer-realtime-v2(langgenius/tongyi/tongyi)
              pt_BR: paraformer-realtime-v2(langgenius/tongyi/tongyi)
              zh_Hans: paraformer-realtime-v2(langgenius/tongyi/tongyi)
            value: langgenius/tongyi/tongyi#paraformer-realtime-v2
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: select
        params:
          audio_file: ''
          model: ''
        provider_id: audio
        provider_name: audio
        provider_type: builtin
        selected: false
        title: Speech To Text
        tool_configurations:
          model: langgenius/tongyi/tongyi#paraformer-realtime-v2
        tool_description: å°†éŸ³é¢‘æ–‡ä»¶è½¬æ¢ä¸ºæ–‡æœ¬ã€‚
        tool_label: Speech To Text
        tool_name: asr
        tool_parameters:
          audio_file:
            type: variable
            value:
            - '1753664561933'
            - audio_input
        type: tool
      height: 89
      id: '1754379634688'
      position:
        x: 171.48569562515712
        y: 1018.6734772157386
      positionAbsolute:
        x: 171.48569562515712
        y: 1018.6734772157386
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: not exists
            id: ed9df8c8-86b1-4c0f-a830-a96c617fadcd
            value: ''
            varType: file
            variable_selector:
            - '1753664561933'
            - audio_input
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 3
        type: if-else
      height: 125
      id: '1754379920020'
      position:
        x: -329.51430437484254
        y: 272.5910592442603
      positionAbsolute:
        x: -329.51430437484254
        y: 272.5910592442603
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        default_value:
        - key: text
          type: string
          value: ''
        desc: ''
        error_strategy: default-value
        model:
          completion_params: {}
          mode: chat
          name: qwen-max
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: d23447c3-9321-4316-8ff1-fe3ecb6a9ab7
          role: system
          text: "ä½ æ˜¯ä¸€ä¸ªå®¢æœå¯¹è¯è´¨æ£€AIï¼Œä»»åŠ¡æ˜¯æ ¹æ®ä»¥ä¸‹è¯¦ç»†è´¨æ£€æ ‡å‡†å¯¹å®¢æœä¸å®¢æˆ·çš„å¯¹è¯è®°å½•è¿›è¡Œé€é¡¹è¯„ä¼°ï¼Œåˆ¤æ–­å®¢æœæ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚è¯·ä¸¥æ ¼å¯¹ç…§ä»¥ä¸‹æ‰€æœ‰è´¨æ£€è§„åˆ™å®Œæˆè¯„ä¼°ï¼š\n\
            Â \n## å“åº”æ—¶é—´ - å›åº”å®¢æˆ·æ—¶é—´\n- æ ‡å‡†ï¼šå¸®å®¢æˆ·æŸ¥è¯¢ç›¸å…³ä¿¡æ¯åï¼Œå†æ¬¡å›åº”å®¢æˆ·æ—¶é—´ä¸å¾—è¶…è¿‡2åˆ†é’Ÿ\n- ä¸¥é‡ç¨‹åº¦ï¼šéè‡´å‘½é¡¹\nÂ \n\
            ## å“åº”æ—¶é—´ - é¦–æ¬¡å“åº”æ—¶é—´\n- æ ‡å‡†ï¼šé¦–æ¬¡å“åº”æ—¶é—´ä¸å¾—è¶…è¿‡40ç§’\n- ä¸¥é‡ç¨‹åº¦ï¼šéè‡´å‘½é¡¹\nÂ \n## æœåŠ¡æ€åº¦ - 0å®¹å¿\n\
            - åŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹è¡Œä¸ºï¼Œå‡å±æœåŠ¡æ€åº¦è‡´å‘½é¡¹ï¼š\nÂ  - è¾±éª‚ã€æ¨è¯¿ã€è´¨é—®ã€äº‰æ‰§å®¢æˆ·ï¼›\nÂ  - éç¤¼è²Œæˆ–æ¶æ„ä¸»åŠ¨å…³é—­ä¼šè¯ï¼›\nÂ  - éšç’æŠ•è¯‰ï¼›\n\
            Â  - å¼•å¯¼å®¢æˆ·å‡çº§æŠ•è¯‰ï¼›\nÂ  - å‘ŠçŸ¥â€œæ²¡æœ‰é¢†å¯¼â€ï¼›\nÂ  - æ‰¿è¯ºæ“ä½œæœªå±¥è¡Œï¼›\nÂ  - å‚¬ä¿ƒå®¢æˆ·æ–­çº¿ã€‚\nÂ \n## æœåŠ¡æŠ€å·§\n\
            - åœ¨çº¿æ¢³ç†ï¼šå¤šæ¬¡è¿›çº¿æœªä¸»åŠ¨æŸ¥å†å²è®°å½•/å·¥å•ï¼Œè‡´å‘½é¡¹ï¼›\n- å¼•å¯¼æ§åˆ¶ï¼šä¸ç†è§£å®¢æˆ·é—®é¢˜æ—¶æœªå¼•å¯¼ï¼Œè‡´å‘½é¡¹ï¼›\n- ç¡®è®¤ä¿¡æ¯ï¼šç”¨æˆ·ä¿¡æ¯æ— è¯¯å´é”å®šé”™è¯¯è´¦æˆ·/è®¢å•ï¼Œè‡´å‘½é¡¹ï¼›\n\
            - è¡¨è¾¾èƒ½åŠ›ï¼šè¡¨è¾¾æ··ä¹±æˆ–å¯¹ç”¨æˆ·è´Ÿé¢æƒ…ç»ªæœªå®‰æŠšï¼Œè‡´å‘½é¡¹ã€‚\nÂ \n## æ ‡å‡†ç”¨è¯­\n- å¼€å¤´è¯­ï¼šåº”ä½¿ç”¨â€œæ‚¨å¥½ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿâ€ï¼ˆéè‡´å‘½é¡¹ï¼‰ï¼›\n\
            - ç¤¼è²Œç”¨è¯­ï¼š\nÂ  - ä½¿ç”¨æ•¬è¯­å¦‚â€œæ‚¨â€â€œè¯·â€ï¼Œä¸èƒ½ä½¿ç”¨å£è¯­åŒ–å­—è¯ï¼ˆéè‡´å‘½é¡¹ï¼‰ï¼›\nÂ  - ç”¨æˆ·è‡´è°¢åº”å›åº”ï¼Œå¦‚â€œä¸å®¢æ°”â€ç­‰ï¼›\nÂ  - å¦‚ç­”å¤é”™è¯¯éœ€è‡´æ­‰ï¼›\n\
            Â  - ä¸å¾—å¦å®šå®¢æˆ·è¡¨è¾¾ï¼ˆéè‡´å‘½é¡¹ï¼‰ã€‚\nÂ \n## æµç¨‹æ‰§è¡Œä¸è§£å†³æ–¹æ¡ˆ\n- åœ¨çº¿ç»“æŸå‡†ç¡®ï¼š\nÂ  - æœªåšåˆ°â€œåˆ°æˆ‘ä¸ºæ­¢â€ã€ç”¨æˆ·æœªç»“æŸä¸»åŠ¨å…³é—­ã€å·²å¤„ç†å®Œæœªå…³é—­ï¼Œå‡ä¸ºè‡´å‘½é¡¹ï¼›\n\
            - æµç¨‹æ‰§è¡Œå‡†ç¡®ï¼š\nÂ  - æœªæŒ‰æµç¨‹ã€é”™è¯¯æ–¹æ¡ˆï¼Œå‡ä¸ºè‡´å‘½é¡¹ã€‚\nÂ \n## é”™åˆ«å­—\n- åŒä¸€ä¼šè¯ä¸­å‡ºç°3æ¬¡ä»¥ä¸Šé”™åˆ«å­—ï¼Œä¸ºéè‡´å‘½é¡¹ã€‚\n\
            Â \n## åŠ åˆ†é¡¹\n- ç”¨æˆ·å¯¹è§£å†³æ–¹æ¡ˆä¸è®¤å¯æ—¶ä¸»åŠ¨è¿›ä¸€æ­¥ååŠ©ï¼›\n- æä¾›è§£å†³æ–¹æ¡ˆæ—¶è§£é‡ŠåŸå› ï¼›\n- ä¸»åŠ¨ç»™å‡ºè¶…å‡ºæµç¨‹é¢„æœŸçš„å¸®åŠ©æˆ–æç¤ºã€‚\n\
            Â \nè¯·æ ¹æ®ä»¥ä¸Šæ¯æ¡æ ‡å‡†è¯„ä¼°å¯¹è¯è®°å½•ï¼Œé€é¡¹è¾“å‡ºè¯„åˆ†ç»†èŠ‚ï¼Œåˆ—å‡ºåŠ åˆ†é¡¹ä¸è‡´å‘½é¡¹ï¼Œå¹¶æœ€ç»ˆåˆ¤æ–­æ˜¯å¦é€šè¿‡æœ¬æ¬¡è´¨æ£€ã€‚å¹¶åªè¿”å›å¦‚ä¸‹ç»“æ„çš„åˆæ³•JSONç»“æœ\n\
            Â \n{\n\"dialog_id\": {{#1753664561933.dialog_id#}},\n\"staff_id\":{{#1753664561933.staff_id#}},Â \
            \ \n\"passed\": \"PASS / FAIL\",\nÂ  \"fatal_issues\": [\"Issue 1\", \"\
            Issue 2\"],\nÂ  \"non_fatal_issues\": [\"Issue 1\", \"Issue 2\", \"Issue\
            \ 3\"],\nÂ  \"bonus_points\": [\"Bonus 1\", \"Bonus 2\"],\nÂ  \"score_details\"\
            : {\nÂ Â Â  \"response_time_first\": \"Pass / Fail (explanation)\",\nÂ Â Â \
            \ \"response_time_followup\": \"Pass / Fail (explanation)\",\nÂ Â Â  \"attitude\"\
            : \"Pass / Fatal issue: ...\",\nÂ Â Â  \"service_techniques\": \"Pass / Fatal\
            \ issue: ...\",\nÂ Â Â  \"language\": \"Pass / Fail (explanation)\",\nÂ Â Â \
            \ \"workflow\": \"Pass / Fatal issue: ...\",\nÂ Â Â  \"typos\": \"Pass /\
            \ Fail (X typos found)\"\nÂ  },\nÂ  \"utterance_analysis\": [\nÂ Â Â  {\nÂ Â Â Â Â \
            \ \"role\": \"Agent\",\nÂ Â Â Â Â  \"time\": \"timestamp\",\nÂ Â Â Â Â  \"text\"\
            : \"exact sentence spoken by agent\",\nÂ Â Â Â Â  \"analysis\": \"Does it reflect\
            \ proper tone, language, clarity, politeness, or any issues?\"\nÂ Â Â  },\n\
            Â Â Â  {\nÂ Â Â Â Â  \"role\": \"Customer\",\nÂ Â Â Â Â  \"time\": \"timestamp\",\n\
            Â Â Â Â Â  \"text\": \"exact sentence spoken by customer\",\nÂ Â Â Â Â  \"analysis\"\
            : \"Optional; summarize customer emotion or feedback if relevant\"\nÂ Â Â \
            \ }\nÂ  ]\n}\nÂ \nå¤‡æ³¨è¡¥å……è¯´æ˜ï¼š\nÂ \nè‹¥å®¢æœå­˜åœ¨æœåŠ¡æ€åº¦é—®é¢˜ï¼Œå¦‚è¾±éª‚å®¢æˆ·ã€æ¨è¯¿ã€è´¨é—®ã€å˜²è®½ç­‰ï¼Œç›´æ¥åˆ¤ä¸ºä¸é€šè¿‡ï¼›\nÂ \n\
            è‹¥å•ä¸ªåœ¨çº¿å·¥å•ä¸­å‡ºç°1é¡¹è‡´å‘½é¡¹ï¼Œæ•´é€šå¯¹è¯è®°ä¸ºä¸é€šè¿‡ï¼›\nÂ \nè‹¥å‡ºç°3é¡¹åŠä»¥ä¸Šéè‡´å‘½é¡¹ä¸é€šè¿‡ï¼Œæ•´é€šå¯¹è¯äº¦è®°ä¸ºä¸é€šè¿‡ã€‚\nÂ \nÂ \nÂ "
        - id: 049b5685-796b-40f6-a4a4-a987b5ec56e3
          role: user
          text: 'è¯·ä½ å¯¹ä»¥ä¸‹å®¢æœå¯¹è¯å†…å®¹è¿›è¡Œè¯„åˆ†åˆ†æï¼Œå¹¶æ ¹æ®ç»™å®šè¯„åˆ†æ ‡å‡†ï¼Œè¿”å›ç»“æ„åŒ– JSON ç»“æœï¼š


            {{#1754379634688.text#}}'
        selected: false
        structured_output_enabled: false
        title: LLM (1)
        type: llm
        variables: []
        vision:
          enabled: false
      height: 125
      id: '17543802375720'
      position:
        x: 596.9406134610323
        y: 1018.6734772157386
      positionAbsolute:
        x: 596.9406134610323
        y: 1018.6734772157386
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '17543878613160'
          - result
          variable: result
        selected: false
        title: ç»“æŸ 6
        type: end
      height: 89
      id: '1754380316477'
      position:
        x: 1435.165439723996
        y: 1018.6734772157386
      positionAbsolute:
        x: 1435.165439723996
        y: 1018.6734772157386
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nimport re\n\ndef main(arg1: str) -> dict:\n    # å»é™¤ markdown\
          \ ```json å’Œ ``` åŒ…è£¹\n    cleaned_str = re.sub(r\"^```json\\s*|\\s*```$\"\
          , \"\", arg1.strip())\n\n    if not cleaned_str:\n        return {\"result\"\
          : \"è¾“å…¥ä¸ºç©ºæˆ–æ ¼å¼éæ³•\"}\n\n    try:\n        obj = json.loads(cleaned_str)\n  \
          \  except json.JSONDecodeError as e:\n        return {\"result\": f\"JSONè§£æå¤±è´¥:\
          \ {e}\"}\n\n    if not isinstance(obj, dict):\n        return {\"result\"\
          : \"è¾“å…¥çš„ JSON åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆdictï¼‰ï¼Œå¦‚ { ... }\"}\n\n    # å¯¹æŒ‡å®šå­—æ®µè¿›è¡Œå­—ç¬¦ä¸²åŒ–\n    for key\
          \ in [\"utterance_analysis\", \"score_details\", \"fatal_issues\", \"non_fatal_issues\"\
          , \"bonus_points\"]:\n        obj[key] = str(obj.get(key, \"\"))\n\n   \
          \ # è¿”å›å­—ç¬¦ä¸²åŒ–åçš„ JSON å¯¹è±¡ï¼ˆåŒ…è£…åœ¨ list ä¸­ï¼‰\n    return {\n        \"result\": json.dumps([obj],\
          \ ensure_ascii=False)\n    }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ 3 (2)
        type: code
        variables:
        - value_selector:
          - '17543802375720'
          - text
          variable: arg1
      height: 53
      id: '17543878613160'
      position:
        x: 1031.7994747931452
        y: 1018.6734772157386
      positionAbsolute:
        x: 1031.7994747931452
        y: 1018.6734772157386
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 554.2475786276638
      y: 178.17017241375595
      zoom: 0.37892914162760005
